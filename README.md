# N-MAIL - نظام البريد الإلكتروني المؤقت المحلي

نظام بريد إلكتروني مؤقت محلي مكتمل يعمل على جهازك الشخصي، يتيح لك إنشاء عناوين بريد إلكتروني مؤقتة، استقبال وإرسال الرسائل.

## المميزات

- 🚀 **إنشاء بريد إلكتروني مؤقت**: توليد عناوين بريد إلكتروني مؤقتة بطرق مختلفة
- 📧 **استقبال الرسائل**: خادم SMTP محلي لاستقبال الرسائل
- ✉️ **إرسال الرسائل**: إمكانية إرسال رسائل إلكترونية
- 🗄️ **قاعدة بيانات محلية**: تخزين الرسائل والحسابات المؤقتة
- 🌐 **واجهة ويب عصرية**: واجهة مستخدم جميلة وسهلة الاستخدام
- ⏰ **حذف تلقائي**: حذف الحسابات المنتهية الصلاحية تلقائياً
- 📱 **تصميم متجاوب**: يعمل على جميع الأجهزة

## هيكل المشروع

```
N-MAIL/
├── backend/                 # الخادم الخلفي
│   ├── app.py              # التطبيق الرئيسي Flask
│   ├── database.py         # إدارة قاعدة البيانات
│   ├── smtp_server.py      # خادم SMTP لاستقبال الرسائل
│   ├── email_sender.py     # نظام إرسال الرسائل
│   └── email_generator.py  # مولد عناوين البريد المؤقت
├── frontend/               # الواجهة الأمامية
│   ├── index.html          # الصفحة الرئيسية
│   └── static/
│       ├── style.css       # ملف التنسيقات
│       └── script.js       # ملف JavaScript
├── database/               # مجلد قاعدة البيانات
├── requirements.txt        # متطلبات Python
└── README.md              # هذا الملف
```

## التثبيت والتشغيل

### 1. متطلبات النظام
- Python 3.7 أو أحدث
- pip (مثبت مع Python)

### 2. تثبيت المتطلبات

```bash
pip install -r requirements.txt
```

### 3. تشغيل النظام

```bash
cd backend
python app.py
```

### 4. الوصول للنظام

بعد تشغيل الخادم، افتح المتصفح واذهب إلى:
- **الواجهة الأمامية**: http://localhost:5000
- **خادم SMTP**: localhost:1025

## طريقة الاستخدام

### إنشاء بريد إلكتروني مؤقت

1. اختر طريقة التوليد:
   - **عشوائي**: توليد عنوان عشوائي
   - **مبني على كلمات**: استخدام كلمات معبرة
   - **يحتوي على الوقت**: إضافة الوقت للعنوان
   - **مخصص**: استخدام بادئة مخصصة

2. اضغط على "إنشاء بريد إلكتروني جديد"

3. سيتم عرض عنوان البريد الجديد مع إمكانية نسخه

### استقبال الرسائل

- الرسائل تصل تلقائياً إلى صندوق الوارد
- يتم تحديث الرسائل كل 10 ثوان تلقائياً
- اضغط على أي رسالة لقراءتها

### إرسال الرسائل

1. املأ نموذج إرسال الرسالة بالمعلومات المطلوبة
2. اضغط على "إرسال الرسالة"

## API المتاحة

### إنشاء بريد إلكتروني مؤقت
```
POST /api/generate-email
Content-Type: application/json

{
    "method": "random|word_based|timestamped|custom",
    "prefix": "اختياري للطريقة المخصصة"
}
```

### الحصول على الرسائل
```
GET /api/emails/{email_address}
```

### الحصول على تفاصيل رسالة
```
GET /api/email/{email_id}/{email_address}
```

### إرسال رسالة
```
POST /api/send-email
Content-Type: application/json

{
    "sender": "sender@example.com",
    "recipient": "recipient@example.com",
    "subject": "موضوع الرسالة",
    "body": "محتوى الرسالة",
    "html_body": "اختياري"
}
```

### الحصول على النطاقات المتاحة
```
GET /api/domains
```

### تنظيف قاعدة البيانات
```
POST /api/cleanup
```

## الإعدادات

يمكنك تخصيص الإعدادات التالية في الملفات المناسبة:

### خادم SMTP (smtp_server.py)
- المنفذ: 1025 (افتراضي)
- العنوان: localhost (افتراضي)

### خادم الويب (app.py)
- المنفذ: 5000 (افتراضي)
- العنوان: 0.0.0.0 (افتراضي)

### مدة انتهاء الحسابات المؤقتة
- افتراضي: 24 ساعة
- يمكن تغييرها في `database.py`

## النطاقات المتاحة

- tempmail.local
- temp.local
- disposable.local
- 10min.local
- throwaway.local

## استكشاف الأخطاء

### المشاكل الشائعة

1. **خطأ في تثبيت المكتبات**
   ```bash
   pip install --upgrade pip
   pip install -r requirements.txt
   ```

2. **خادم SMTP لا يعمل**
   - تأكد من أن المنفذ 1025 غير مستخدم
   - تحقق من جدار الحماية

3. **قاعدة البيانات لا تعمل**
   - تأكد من وجود مجلد database
   - تحقق من أذونات الكتابة

### سجلات الأخطاء

يتم عرض سجلات النظام في وحدة التحكم (Terminal) حيث تم تشغيل الخادم.

## الأمان

⚠️ **تحذير**: هذا النظام مخصص للاستخدام المحلي فقط. لا تستخدمه في بيئة الإنتاج بدون تدابير أمنية إضافية.

- البيانات مخزنة محلياً فقط
- لا يوجد تشفير للرسائل
- مناسب للاختبار والتطوير المحلي

## المساهمة

نرحب بالمساهمات! يمكنك:

1. إرسال تقارير الأخطاء
2. اقتراح مميزات جديدة
3. تحسين الكود
4. تحسين التوثيق

## الترخيص

هذا المشروع مفتوح المصدر ومتاح للاستخدام الشخصي والتعليمي.

---

**ملاحظة**: تأكد من وجود Python وجميع المتطلبات مثبتة قبل التشغيل. النظام سيقوم بإنشاء قاعدة البيانات تلقائياً عند أول تشغيل.
